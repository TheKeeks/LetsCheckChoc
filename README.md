# LetsCheckChoc — Setup Instructions

## Quick Start

1. Create a new GitHub repository called `LetsCheckChoc`
2. Copy all files from this package into the repo root
3. Push to GitHub
4. Enable GitHub Pages:
   - Go to Settings → Pages
   - Source: Deploy from a branch
   - Branch: `main` / `root`
   - Save
5. Enable the GitHub Actions workflow:
   - Go to Actions tab
   - Enable the "Update Buoy Data" workflow
   - Run it manually once to generate the initial `data/buoy.json`

Your site will be live at `https://[username].github.io/LetsCheckChoc/`

## File Structure

```
LetsCheckChoc/
├── index.html                  Page shell
├── app.js                      All JavaScript
├── style.css                   All styles
├── data/
│   ├── buoys-east-coast.json   Static: ~29 ndbc buoys
│   ├── tide-stations.json      Static: ~49 CO-OPS stations
│   └── buoy.json               Auto-generated by pipeline
├── scripts/
│   └── fetch_buoy.py           Pipeline: fetches ndbc 44097
├── .github/
│   └── workflows/
│       └── update-buoy.yml     Runs every 2 hours
└── README.md                   This file
```

## What Replaces What

If you had the previous single-file LetsCheckChoc:

| Old file | New replacement | Notes |
|----------|----------------|-------|
| `index.html` (single file) | `index.html` + `app.js` + `style.css` | Split into 3 files |
| `scripts/fetch_forecast.py` | Deleted | Open-Meteo replaces gfs-Wave pipeline |
| `scripts/fetch_buoy.py` | `scripts/fetch_buoy.py` (simplified) | Same name, simpler code |
| `.github/workflows/update-forecast.yml` | Deleted | No longer needed |
| `.github/workflows/update-buoy.yml` | `.github/workflows/update-buoy.yml` | Simplified |
| `data/forecast.json` | Deleted | Open-Meteo replaces it |

## Data Sources

All data is fetched browser-side (no server needed) except the ndbc fallback pipeline.

| Source | Used For | cors-friendly? |
|--------|----------|----------------|
| Open-Meteo Marine | Swell forecast, sst | Yes |
| Open-Meteo Weather | Wind forecast | Yes |
| CO-OPS | Tides, water temp | Yes |
| ndbc via corsproxy.io | Live buoy, spectral | Via proxy |
| Windy.com | Wind/swell map embeds | Yes (iframe) |

## Chocomount Access Gate

The app shows a "Are you coming by boat today?" prompt on first visit.
- "No" → full access including Chocomount star on the map
- "Yes" → Chocomount is hidden, user sees the generic multi-buoy app

This is stored in a session cookie (resets when browser closes).

## Customization

To add swell window color coding for other spots, edit the `swellDirColor()` and `swellDirClass()` functions in `app.js`. The Chocomount swell window is defined in `CONFIG.chocomount`.

To add more buoys, edit `data/buoys-east-coast.json`.
To add more tide stations, edit `data/tide-stations.json`.
